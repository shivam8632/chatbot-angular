{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ChatbotComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelement(1, \"div\", 17)(2, \"div\", 17)(3, \"div\", 17)(4, \"div\", 17)(5, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChatbotComponent_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h1\", 18);\n    i0.ɵɵtext(2, \"Welcome to Chatbot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ChatbotComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.getMessageClass(message_r3));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r3.text, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"scrollable\": a0\n  };\n};\nexport let ChatbotComponent = /*#__PURE__*/(() => {\n  class ChatbotComponent {\n    constructor(http) {\n      this.http = http;\n      this.messages = [];\n      this.userMessage = '';\n      this.isLoading = false;\n    }\n    isChatMessagesScrollable() {\n      const chatMessagesElement = document.querySelector('.chat-messages');\n      return chatMessagesElement.scrollHeight > chatMessagesElement.clientHeight;\n    }\n    sendMessage(message) {\n      this.messages.push({\n        text: message,\n        sender: 'user'\n      });\n      this.isLoading = true;\n      const formData = new FormData();\n      formData.append('question', message);\n      this.http.post('http://3.212.224.14:8000/chat/', formData).subscribe(response => {\n        console.log(\"Answer\", response);\n        const answer = response.answer;\n        this.messages.push({\n          text: answer,\n          sender: 'bot'\n        });\n        this.isLoading = false;\n      }, error => {\n        console.error('Error:', error);\n        this.isLoading = false;\n      });\n      this.userMessage = '';\n    }\n    getMessageClass(message) {\n      if (message.sender === 'user') {\n        return 'user-message';\n      } else {\n        return 'bot-message';\n      }\n    }\n    getInputPlaceholder() {\n      return this.messages.length === 0 ? 'Hello! How can I help you?' : 'Type a Message';\n    }\n  }\n  ChatbotComponent.ɵfac = function ChatbotComponent_Factory(t) {\n    return new (t || ChatbotComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n  ChatbotComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChatbotComponent,\n    selectors: [[\"app-chatbot\"]],\n    decls: 22,\n    vars: 8,\n    consts: [[1, \"chatbot\"], [\"class\", \"loader\", 4, \"ngIf\"], [1, \"chat-container\"], [1, \"chat-header\"], [1, \"mb-0\"], [1, \"offline-message\", 2, \"background-color\", \"rgba(77, 78, 79, 0.72)\"], [1, \"online\"], [1, \"chat-messages\", 3, \"ngClass\"], [4, \"ngIf\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\", \"keyup.enter\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"id\", \"ic_send\", \"fill\", \"#FFFFFF\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\", \"width\", \"24\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"aria-hidden\", \"true\"], [\"d\", \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"], [\"d\", \"M0 0h24v24H0z\", \"fill\", \"none\"], [1, \"loader\"], [1, \"dot\"], [1, \"text-center\", \"text-white\"], [3, \"ngClass\"]],\n    template: function ChatbotComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵtemplate(1, ChatbotComponent_div_1_Template, 6, 0, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\");\n        i0.ɵɵtext(5, \"Chatbot\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\", 4);\n        i0.ɵɵtext(7, \"How can we assist you?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 5)(9, \"span\", 6)(10, \"span\");\n        i0.ɵɵtext(11, \"Online Now\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(12, \"div\", 7);\n        i0.ɵɵtemplate(13, ChatbotComponent_ng_container_13_Template, 3, 0, \"ng-container\", 8);\n        i0.ɵɵtemplate(14, ChatbotComponent_div_14_Template, 2, 2, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 10);\n        i0.ɵɵelement(16, \"hr\");\n        i0.ɵɵelementStart(17, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function ChatbotComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.userMessage = $event;\n        })(\"keyup.enter\", function ChatbotComponent_Template_input_keyup_enter_17_listener() {\n          return ctx.sendMessage(ctx.userMessage);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function ChatbotComponent_Template_button_click_18_listener() {\n          return ctx.sendMessage(ctx.userMessage);\n        });\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(19, \"svg\", 13);\n        i0.ɵɵelement(20, \"path\", 14)(21, \"path\", 15);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx.isChatMessagesScrollable()));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.messages.length === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.userMessage)(\"placeholder\", ctx.getInputPlaceholder());\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\".chatbot[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]{margin:0 auto;box-shadow:#00122e29 0 8px 36px;padding:0;width:100%;height:100vh;background:rgb(86,87,88);display:flex;flex-direction:column;justify-content:space-between}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{padding:24px 28px 0;color:#fff;background:rgb(86,87,88);position:relative;z-index:4;flex:0 0 auto}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .offline-message[_ngcontent-%COMP%]{margin:18px -28px 0;color:currentcolor;width:calc(100% + 56px);padding:20px 28px;background-size:100% calc(100% + 12px)}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .offline-message[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{padding-left:20px;position:relative;z-index:2;display:inline-block;font-size:16px}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .offline-message[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]:before{content:\\\"\\\";display:block;width:8px;height:8px;position:absolute;top:calc(50% - 4px);background:rgb(88,183,67);border-radius:50%;left:0}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{height:300px;padding:10px 25px;overflow-y:auto}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:8px;background-color:#aaa}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#000}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .user-message[_ngcontent-%COMP%]{background-color:#505052;color:#fff;border-radius:40px;padding:10px 24px;margin-bottom:10px;width:-moz-fit-content;width:fit-content;margin-left:auto;position:relative}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .user-message[_ngcontent-%COMP%]:before{content:\\\"\\\";width:0;height:0;border-left:4px solid transparent;border-right:5px solid transparent;border-top:15px solid #505052;position:absolute;bottom:-2px;right:-5px;transform:rotate(-60deg)}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .bot-message[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#000;border-radius:40px;padding:10px 24px;margin-bottom:10px;width:-moz-fit-content;width:fit-content;position:relative}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .bot-message[_ngcontent-%COMP%]:before{content:\\\"\\\";width:0;height:0;border-right:4px solid transparent;border-left:5px solid transparent;border-top:15px solid #f8f9fa;position:absolute;bottom:-2px;left:-5px;transform:rotate(60deg)}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .scrollable[_ngcontent-%COMP%]{overflow-y:scroll}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-top:20px;padding:0 20px 20px;justify-content:space-between}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;box-shadow:none;border-top:1px solid rgb(219,223,230);flex:unset!important;width:calc(100% - 80px)}.chatbot[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgb(86,87,88);box-shadow:#02061033 0 2px 16px;width:60px;height:60px;border-radius:50%!important;display:inherit;align-items:center;justify-content:center;pointer-events:initial;background-size:130% 130%;transition:all .2s ease-in-out 0s;position:relative;border:none}.loader[_ngcontent-%COMP%]{display:flex;position:fixed;top:0;left:0;background:rgba(0,0,0,.6);z-index:9999;height:100%;width:100%;color:#fff;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:20px;width:20px;margin-right:10px;border-radius:10px;background-color:#b3d4fc;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}.loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:last-child{margin-right:0}.loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.3s}.loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.1s}.loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:.1s}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.8);background-color:#b3d4fc;box-shadow:0 0 #b2d4fcb3}50%{transform:scale(1.2);background-color:#6793fb;box-shadow:0 0 0 10px #b2d4fc00}to{transform:scale(.8);background-color:#b3d4fc;box-shadow:0 0 #b2d4fcb3}}\"]\n  });\n  return ChatbotComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}